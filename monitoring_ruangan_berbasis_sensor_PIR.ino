#include <ESP8266WiFi.h>
#include <ESP8266WebServer.h>

const char* ssid = "....";
const char* password = "....";

const int pirPin = 5; // Pin sensor PIR terhubung ke pin D1 pada ESP8266
const int relayPin = 4; // Pin relay terhubung ke pin D2 pada ESP8266
int pirState = LOW;    // Awalnya, tidak ada gerakan

ESP8266WebServer server(80);

void setup() {
  pinMode(pirPin, INPUT);
  pinMode(relayPin, OUTPUT); // Mengatur pin relay sebagai OUTPUT
  digitalWrite(relayPin, LOW); // Awalnya, relay dimatikan
  Serial.begin(115200);
  delay(10);

  // Menghubungkan ke WiFi
  Serial.println();
  Serial.print("Connecting to ");
  Serial.println(ssid);
  WiFi.begin(ssid, password);
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("");
  Serial.println("WiFi connected");
  Serial.println("IP address: ");
  Serial.println(WiFi.localIP());

  server.on("/", HTTP_GET, handleRoot);
  server.begin();
  Serial.println("HTTP server started");
}

void handleRoot() {
  String status = (pirState == HIGH) ? "Ruangan Sedang Digunakan" : "Ruangan Kosong";
  server.send(200, "text/html", getHTML(status));
}

void loop() {
  server.handleClient();

  // Membaca status sensor PIR
  int sensorValue = digitalRead(pirPin);
  if (sensorValue == HIGH) {
    pirState = HIGH;
    digitalWrite(relayPin, HIGH); // Menghidupkan relay jika sensor mendeteksi gerakan
  } else {
    pirState = LOW;
    digitalWrite(relayPin, LOW); // Mematikan relay jika tidak ada gerakan
  }

  delay(500);
}

String getHTML(String status) {
  String color = (status.equals("Ruangan Sedang Digunakan")) ? "red" : "green";
  String lamp = (status.equals("Ruangan Sedang Digunakan")) ? "Lampu Hidup" : "Lampu Mati";
  String html = "<!DOCTYPE html><html><head>";
  html += "<meta http-equiv='refresh' content='5'>";
  html += "<title>Monitoring</title></head><body><center>";
  html += "<h1>Monitoring Ruangan</h1>";
  html += "<img src='data:image/png;base64,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'/>";    
  html += "<p>" + status + "</p>";
  html += "<p>" + lamp + "</p>";
  html += "<div style='width: 100px; height: 20px; background-color: " + color + ";'></div>";
  html += "</center></body></html>";
  return html;
}



